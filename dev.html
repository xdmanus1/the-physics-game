<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coloring Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="newgame.css">
    <link rel="stylesheet" href="devmode.css">
    <script src="https://kit.fontawesome.com/adb16ce155.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="navbar">
        <!--NAVBAR || <b> is used when you're on the site-->
        <b>The Physics Game</b> | <a href="index.html">Főoldal</a> | <a href="newgame.html"><b>A játék</b></a> | <a id="myBtn">Névjegy</a> | <a href="newgame.html" class="devtext">Dev mode off</a> 
        <hr>
    </div>
    <div class="game">
<dialog class="colmod" id="colorModal">
    <form method="dialog">
        <label for="color2" class="color-input">Color 1:
            <input class="color-input" type="color" id="color2" value="#FF0000">
        </label>
        <label for="color3" class="color-input">Color 2:
            <input class="color-input" type="color" id="color3" value="#00FF00">
        </label>
        <label for="color4" class="color-input">Color 3:
            <input class="color-input" type="color" id="color4" value="#0000FF">
        </label>
        <label for="color5" class="color-input">Color 4:
            <input class="color-input" type="color" id="color5" value="#800080">
        </label>
        <button class="color-save" id="saveColors" type="submit"><b>Save Colors</b></button>
    </form>
</dialog>
    <audio id="popSound" src="sounds/pop.mp3"></audio>
    <audio id="loseSound" src="sounds/lose.mp3"></audio>
    <audio id="winSound" src="sounds/win.mp3"></audio>
    <canvas id="canvas"></canvas>
    <div id="color-picker"></div>
    
    <div id="center">
        
        <button id="restart-button">Restart</button>
        <div class="butos">
        <button class="colormodal" id="openColorModal"><i class="fa-solid fa-palette"></i></button>
        <button class="colormodal" id="muteButton"><i id="muteIcon" class="fas fa-volume-up"></i></button> 
    </div> 
        <div class="lang-drop" id="language-dropdown">
            <select id="language" onchange="changeLanguage(this.value)">
                <option class="langs" value="eng">ENG</option>
                <option  value="hun">HUN</option>
            </select>
        </div>
    <div id="win-modal">
        <h2>Congratulations! You've won!</h2>
        <button id="win-modal-restart">Play Again</button>
    </div>
    <div id="lose-modal">
        <h2 id="lose-modal-title">You Lose!</h2>
        <button id="lose-modal-restart">Try Again</button>
    </div>
    <div class="star-container"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
        const popSound = document.getElementById("popSound");
        const loseSound = document.getElementById("loseSound");
        const winSound = document.getElementById("winSound");
        const muteButton = document.getElementById("muteButton");
        const muteIcon = document.getElementById("muteIcon");

        // Check if there is a stored mute state
        const isMuted = localStorage.getItem("isMuted") === "true";
        setMuteState(isMuted);

        // Toggle mute state on button click
        muteButton.addEventListener("click", function() {
            const newMuteState = !popSound.muted;
            setMuteState(newMuteState);
        });

        // Function to set mute state and update button text
        function setMuteState(isMuted) {
            popSound.muted = isMuted;
            loseSound.muted = isMuted;
            winSound.muted = isMuted;

            // Update the mute button icon based on the mute state
            muteIcon.className = isMuted ? "fas fa-volume-up" : "fas fa-volume-mute";

            // Store mute state in local storage
            localStorage.setItem("isMuted", isMuted);
        }
    });
    </script>
    </div>
    <!-- ! Do not touch this! This is instead of about.html and I'm just happy this thing finally works. GM-->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <table class="center">
                <tr>
                    <th>Gocsál Mátyás</th>
                    <th>Karsa Hunor Ákos</th>
                </tr>
                <tr>
                    <td><img src="imgs/pfp.jpg"></td>
                    <td><img src="imgs/hunor.png" class="hunyor" width="256px" height="256px"></td>
                </tr>
                <tr>
                    <td>Webfejlesztő<br>Webdesigner</td>
                    <td>Játékfejlesztő<br>Webdesigner</td>
                </tr>
                <tr>
                    <td colspan="2">✉: toptcorporation@protonmail.com</td>
                </tr>
                <tr>
                    <td colspan="2">Projekt ideje: 2024. január 2. - 2024. március 10.</td>
                </tr>
            </table><br>
            <span class="close"><p class="center"></p></span>
        </div>
        </div>
        <script src="about.js"></script>

        <script src="gameasd.js"></script>   
</body>

</html>